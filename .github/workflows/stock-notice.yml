name: 司法拍卖公告推送

on:
  schedule:
    # 设定定时任务，在UTC时间0点30分（北京时间早上8点30分）运行
    - cron: '30 0 * * *'
  workflow_dispatch:  # 启用手动触发选项

jobs:
  send-notice:
    runs-on: ubuntu-latest  # 使用GitHub提供的Ubuntu系统环境
    timeout-minutes: 10     # 设置超时时间，防止脚本无限运行

    steps:
    # 第一步：获取您仓库里的代码
    - name: 检出代码
      uses: actions/checkout@v4

    # 第二步：设置Python环境
    - name: 设置Python环境
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'  # 指定Python版本

    # 第三步：安装项目依赖
    - name: 安装依赖
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    # 第四步：执行您的主脚本
    - name: 执行推送脚本
      run: |
        python stock_notice_bot.py
